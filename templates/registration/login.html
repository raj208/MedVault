<form method="post">
  {% csrf_token %}
  {{ form.as_p }}
  <button type="submit">Login</button>
</form>

<script>
  const roleField = document.querySelector('[name="role"]');
  const publicKeyField = document.querySelector('[name="patient_public_key"]').closest('p');
  function togglePublicKeyField() {
    publicKeyField.style.display = roleField.value === 'doctor' ? 'block' : 'none';
  }
  roleField.addEventListener('change', togglePublicKeyField);
  togglePublicKeyField();
</script>
